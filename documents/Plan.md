### __План по автоматизации тестирования cервиса покупки тура, взаимодействующего с СУБД и API Банка.__
_Приложение предлагает купить тур по определённой цене по дебетовой карте или в кредит, по данным банковской карты._

### Перечень автоматизируемых сценариев.
#### Тестирование UI.

###### Требования к содержимому полей:
* Номер карты:
    * Поле должно содержать только цифры, в количестве - 16.
    * Недопустим ввод в поле любых символов/букв.
    * Недопустима отправка заявки с меньшим или большим количеством цифр.
* Месяц:
    * Поле должно содержать только цифры, от  01 до 12.
    * Количество цифр в поле - 2.
    * Недопустима отправка заявки с меньшим или большим количеством цифр.
    * Недопустима отправка заявки с месяцем предшедствующем текущему, текущего года.
* Год:
    * Поле должно содержать только цифры значений от 20 до 25 (т.е. +5 лет от текущего года).
    * Количество цифр в поле - 2.
    * Недопустима отправка заявки с меньшим или большим количеством цифр.
* Владелец:
    * Допустимо заполнение поля латинскими буквами.
    * Допустимо применение знака "-".
    * Допустимо заполнение поля верхним и нижним регистром.
    * Минимальное количество букв - 2, максимальное - 45.
    * Недопустимо применение символов и цифр (кроме указанного выше).
    * Допустимое количество пробелов - 1, между фамилией и имененем.
* CVC/CVV:
    * Допустимо заполнение поля только цифрами. Количество - 3.
    * Недопустимо заполнение поля символами, буквами.
    * Недопустимо заполение поля большим или меньшим количеством цифр.

___

###### Позитивные сценарии, при которых все поля заполнены верно.

_Сценарий 1._  
_Отправить заявку на покупку тура с валидным заполнением всех полей._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец: Ivanov Ivan
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
   #### _Ожидаемый результат: В правом верхнем углу появляется сообщение "Успешно Операция одобрена банком"_



___
_Сценарий 2._  
_Отправить заявку на покупку тура с валидным заполнением полей. (двойная фамилия)._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец: Ivanov-Petrov Ivan
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
   #### _Ожидаемый результат: В правом верхнем углу появляется сообщение "Успешно Операция одобрена банком"_



___
_Сценарий 3._  
_Указание валидного имени и фамилии владельца карты .(длинная фамилия)_
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец: Wolfeschlegelsteinhausenbergerdorff Hubert
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
   #### _Ожидаемый результат: В правом верхнем углу появляется сообщение "Успешно Операция одобрена банком"_

___
_Сценарий 4._  
_Указать номер карты по которой операция должна отклониться_
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4442
    * месяц: 07
    * год: 23
    * владелец: Ivanov Ivan
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
   #### _Ожидаемый результат: В правом верхнем углу появляется сообщение "Успешно Операция одобрена банком"_



___
#### Все выше описанные сценарии протестировать со вкладкой "Купить в кредит".
___

###### Hегативные сценарии, при который одно или несколько из полей заполнены неверно.

_Сценарий 1._   
_Отправить заявку с несуществующим номером карты._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты:4444 4444 4444 7777
    * месяц: 07
    * год: 23
    * владелец: Ivanov Ivan
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
   #### _Ожидаемый результат: В поле "Номер карты" : "Поле обязательно для заполнения"._



___
_Сценарий 2._
Отправить заявку с пустым полем "Номер карты"._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты:
    * месяц: 07
    * год: 23
    * владелец: Ivanov Ivan
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
   #### _Ожидаемый результат: В поле "Номер карты" : "Поле обязательно для заполнения"._"Ошибка! Банк отказал в проведении операции."._



___
_Сценарий 3._  
_Отправить заявку с недостаточным количеством цифр в номере карты._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 444
    * месяц: 07
    * год: 23
    * владелец: Ivanov Ivan
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Номер карты" : "Неверный формат"._


___
_Сценарий 4._
Отправить заявку с пустым полем "Месяц"._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц:
    * год: 23
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "месяц" : "Неверный формат"._

___
_Сценарий 5._  
_Невалидный месяц действия карты._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц:21
    * год: 23
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "месяц" : "Неверно указан срок действия карты"._

___
_Сценарий 6._  
_Некорректное написание месяца действия карты.(одна цифра)_
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 3
    * год: 23
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "месяц" : "Неверно указан срок действия карты"._

___
_Сценарий 7._  
_Отправить заявку с невадидным значением в поле "Месяц" (месяц - "00")._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 00
    * год: 23
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "месяц" : "Неверно указан срок действия карты"._

---
_Сценарий 8._  
_Невалидный год действия карты._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 30
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "год" : "Неверно указан срок действия карты"._

___
_Сценарий 9._  
_Указание просроченного срока действия карты._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 21
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "год" : "Неверно указан срок действия карты"._


___
_Сценарий 10._  
_Отправить заявку с пустым полем "Год"._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год:
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "год" : "Поле обязательно для заполнения".


___
_Сценарий 11._  
_Отправить заявку с некорректным значением в поле "Год"._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 4
    * владелец: IVAN IVANOV
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "год" : "Неверный формат"._



___
_Сценарий 12._  
_Отправить заявку с пустым полем "Владелец"._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец:
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Поле обязательно для заполнения".


___
_Сценарий 13._  
_Отправить заявку некорректным заполнением поля "Владелец"(цифрами)._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец:4444444444444444
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".

___
_Сценарий 14._  
_Отправить заявку некорректным заполнением поля "Владелец"(символоми)._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец:№%?*)
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".

_Сценарий 15._  
_Отправить заявку некорректным заполнением поля "Владелец" (c 3-мя пробелами)._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 05
    * год: 25
    * владелец: IVAN   IVANOV
    * CVC/CVV: 333
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".
___
_Сценарий 16._  
_Отправить заявку некорректным заполнением поля "Владелец" (c 3-мя пробелами)._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 05
    * год: 25
    * владелец: IVAN   IVANOV
    * CVC/CVV: 333
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".
___
_Сценарий 17._  
_Указание владельца карты на кириллице._
1. Зайти на сайт http://localhost:8080/
2. Кликнуть на поле "Купить".
3. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец: Иванов Иван
    * CVC/CVV: 214
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".
___
_Сценарий 18._  
_Отправить заявку с невалидным значением в поле "Владелец" (заполнение поля 50 букв)._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 05
    * год: 25
    * владелец: SDFGHJKLASDFGZXCVBNASDFGHQWERTYHBGVCFXDSAZWERTYGDV
    * CVC/CVV: 333
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".
___
_Сценарий 19._  
_Отправить заявку с невалидным значением в поле "Владелец" (заполнение поля 1 буква)._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 05
    * год: 25
    * владелец: S
    * CVC/CVV: 333
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "Владелец" : "Неверный формат".
___
_Сценарий 20_  
_Отправить заявку с пустым полем "CVC/CVV"._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 05
    * год: 25
    * владелец: IVAN IVANOV
    * CVC/CVV:
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "CVC/CVV" :  "Поле обязательно для заполнения".
___
_Сценарий 21_  
_Отправить заявку с невалидным значением в поле: "CVC/CVV"._
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 05
    * год: 25
    * владелец: IVAN IVANOV
    * CVC/CVV: 64
4. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "CVC/CVV": "Неверный формат".


___
_Сценарий 22_  
_Отправить заявку с пустыми полями_
1. Зайти на сайт http://localhost:8080/
1. Кликнуть на поле "Купить".
1. Все поля заявки оставить пустыми.
1. Кликнуть на окно "Продолжить"
#### _Ожидаемый результат: В поле "CVC/CVV" :  "Поле обязательно для заполнения".
___
#### Все выше описанные сценарии протестировать со вкладкой "Купить в кредит".
___

#### Тестирование API
Проверка через API банковские карты и их статусы в БД.

_Сценарий 1_
1. Отправляем данные карты на http://localhost:8080/api/v1/pay
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец: IVANOV IVAN
    * CVC/CVV: 214
2. Должны получить ответ от сервера - код 200, статус карты APPROVED.
___
_Сценарий 2_
1. Отправляем данные карты на http://localhost:8080/api/v1/pay
    * номер карты: 4444 4444 4444 4442
    * месяц: 05
    * год: 25
    * владелец: SIDOROV VLADIMIR
    * CVC/CVV: 333
2. Должны получить ответ от сервера - код 200, статус карты DECLINED.
___
_Сценарий 3_
1. Отправляем данные карты на http://localhost:8080/api/v1/credit
    * номер карты: 4444 4444 4444 4441
    * месяц: 07
    * год: 23
    * владелец: IVANOV IVAN
    * CVC/CVV: 214
2. Должны получить ответ от сервера - код 200, статус карты APPROVED.
___
_Сценарий 4_
1. Отправляем данные карты на http://localhost:8080/api/v1/credit
    * номер карты: 4444 4444 4444 4442
    * месяц: 05
    * год: 25
    * владелец: SIDOROV VLADIMIR
    * CVC/CVV: 333
2. Должны получить ответ от сервера - код 200, статус карты DECLINED.
___
#### Перечень используемых инструментов:

* Java 11 - хорошо организованный язык с богатой функциональностью в стандартных библиотеках. Позволяет работать на всех ОС.
* IntelliJ IDEA - интегрированная среда разработки программного обеспечения. Community Edition является полностью свободной версией, пользователи которого имеют права на его неограниченную установку, запуск, свободное использование, изучение и тд. В ней реализована полная поддержка Java SE и других языков программирования, а также интеграция с наиболее популярными системами управления версиями.
* Docker - то платформа контейнеризации с открытым исходным кодом, с помощью которой можно автоматизировать создание приложений, их доставку и управление.
* Gradle - это система автоматизации сборки с открытым исходным кодом, которая позволяет вам вникать в процесс сборки и ее логику. Например, когда вы собираете приложение, именно Gradle компилирует весь код и создает APK.
* Rest-assured - представляет собой богатую Java-библиотеку, которую можно использовать для тестирования REST-служб, основанных на HTTP.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений. Простой в настройке и удобный в использовании.
* Сервис GitHub - это служба размещения в Интернете репозиториев Git.
* Lombok - это библиотека для сокращения кода в классах и расширения функциональности языка Java.
* Allure - инструмент, позволяющий внести прозрачность в процесс создания и выполнения функциональных тестов. Дает подробный результат прохождения тестов.
* Система CI AppVeyor - распределённый веб-сервис непрерывной интеграции, предназначенный для сборки и тестирования программного обеспечения расположенного на GitHub и других сервисах.



#### Перечень и описание возможных рисков при автоматизации:

* Из-за отсутствия ТЗ и какой-либо документации сложно понять, как должно работать приложение и какое поведение системы нужно считать ошибкой.
* Изменение структуры сайта.
* Проблемы в работе банковских сервисов.
* Возможны проблемы из-за необходимости поддержки двух СУБД (MySQL, Postgres)
* Риск падения сайта.


#### Интервальная оценка с учётом рисков:
1й этап: планирование автоматизации тестирования - 16 часов.  
2й этап: автоматизация - 72 часа.  
3й этап: подготовка отчётных документов и баг-репортов по итогам автоматизированного тестирования - 8 часов.  
4й этап: подготовка отчётных документов по итогам автоматизации - 24 часов.
Запас в виде 24 часов на непредвиденные обстоятельства.

#### План сдачи работ:

Написание авто-тестов в течение 10 рабочих дней, после согласования плана автоматизации и разрешения вопросов.  
Результат работы автотестов - документы по итогам тестирования (отчет по итогам тестирования + баг-репорты) - 3 рабочих дня
Подготовка отчёта по автоматизации - 3 рабочих для после проведения всех работ.